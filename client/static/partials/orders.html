<div ng-controller = 'OrdersController'>
	<h4>Add a new order</h4>
	<p ng-repeat = 'error in errors' ng-bind = 'error'></p>
	<form ng-submit = 'add()'>
		<select ng-model = 'newOrder.customer' ng-options = 'customer._id as customer.name for customer in customers'>
			<option value = '' disabled>Choose Customer</option>
		</select>
		<select ng-model = 'newOrder.product' ng-options = 'product._id as product.name for product in products'>
			<option value = '' disabled>Choose Product</option>
		</select>
		<select ng-model = 'newOrder.quantity' ng-options = 'n for n in [] | range:1:50'>
			<option value = '' disabled>0</option>
		</select>
		<input type = 'submit' value = 'Order'>
	</form>

	<input type = 'text' ng-model = 'filter_name' placeholder = 'Filter...'>
	<table>
		<thead>
			<tr>
				<td>Customer Name</td>
				<td>Product</td>
				<td>Quantity</td>
				<td>Date</td>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat = 'order in orders | filter:filter_name | orderBy:createdAt:true track by $index'>
				<td ng-bind = 'order._customer.name'></td>
				<td ng-bind = 'order._product.name'></td>
				<td ng-bind = 'order.quantity'></td>
				<td ng-bind = 'order.createdAt | date: "longDate"'></td>
			</tr>
		</tbody>
	</table>
</div>